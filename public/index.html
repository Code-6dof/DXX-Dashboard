<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DXX Tracker â€” Live Descent Games</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/live.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body class="live-tracker-body">
  <!-- Navigation -->
  <nav class="main-nav">
    <div class="nav-inner">
      <div class="nav-logo">
        <span class="logo-icon">âš¡</span>
        <span>DXX Tracker</span>
      </div>
      <div class="nav-links">
        <a href="live.html" class="nav-link">ğŸ“š Archive</a>
        <a href="index.html" class="nav-link active">ğŸŸ¢ Live Games</a>
      </div>
    </div>
  </nav>

  <!-- Live Tracker Hero -->
  <header class="live-hero">
    <div class="live-hero-inner">
      <h1>ğŸ® Live Descent Games</h1>
      <p class="live-subtitle">Real-time game tracking via DXX-Redux gamelog monitoring</p>
      <p class="live-local-notice" style="margin-top: 0.5rem; padding: 0.5rem 1rem; background: rgba(255,170,0,0.15); border: 1px solid rgba(255,170,0,0.3); border-radius: 8px; color: #ffaa00; font-size: 0.85rem;">âš ï¸ This page requires the local tracker server running on your machine. <a href="live.html" style="color: #4fc3f7;">View the game archive â†’</a></p>
      <div class="connection-status" id="connectionStatus">
        <span class="status-dot"></span>
        <span class="status-text">Connecting...</span>
      </div>
    </div>
  </header>

  <!-- Active Games Section -->
  <section class="live-games-section">
    <div class="section-header">
      <h2>ğŸŸ¢ Active Games</h2>
      <span class="game-count" id="activeGameCount">0 games</span>
    </div>
    <div id="activeGamesList" class="active-games-list">
      <!-- Active games will be inserted here -->
    </div>
    <div id="noGamesMessage" class="no-games-message">
      <div class="waiting-animation">
        <div class="pulse-ring"></div>
        <div class="pulse-ring delay-1"></div>
        <div class="pulse-ring delay-2"></div>
        <span class="waiting-icon">ğŸ®</span>
      </div>
      <h3>Waiting for games...</h3>
      <p>Listening for Descent matches. Games will appear here when detected.</p>
      <details class="setup-info">
        <summary>How to enable game tracking</summary>
        <ol>
          <li>Launch DXX-Redux with gamelog flags: <code>-gamelog_split -gamelog_timestamp</code></li>
          <li>Start the watcher: <code>WS_PORT=8081 node scraper/gamelog-watcher.js</code></li>
          <li>Play Descent â€” your games will appear here in real-time!</li>
        </ol>
      </details>
    </div>
  </section>

  <!-- Recent Games (last 10) -->
  <section class="recent-games-section">
    <div class="section-header">
      <h2>ğŸ“œ Recent Games</h2>
      <span class="game-count" id="recentGameCount">0 games</span>
    </div>
    <div id="recentGamesList" class="recent-games-list">
      <!-- Recent completed games -->
    </div>
  </section>

  <footer>
    <p>Real-time tracking powered by DXX-Redux gamelog monitoring</p>
  </footer>

  <script src="js/live-tracker.js"></script>
</body>
</html>
